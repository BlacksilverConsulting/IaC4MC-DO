---
# This is the CALLABLE server restart role.
# Use this freely instead of repeating these tasks everywhere!

- name: "Stop minecraft service"
  ansible.builtin.service:
    name: minecraft
    state: stopped

- name: "Restart minecraft service"
  ansible.builtin.service:
    name: minecraft
    state: restarted

- name: "Wait for server to come up after restart"
  ansible.builtin.wait_for:
    port: "{{ server_port }}"
    timeout: "{{ startup_timeout }}"
